<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الدردشة الإسلامية - Imuslim</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">Imuslim</a>
            <div class="menu-toggle" id="menu-toggle">&#9776;</div>
            <ul class="nav-links" id="nav-links">
                <li><a href="index.html">الرئيسية</a></li>
                <li><a href="quran.html">القرآن الكريم</a></li>
                <li><a href="hadeth.html">الأحاديث</a></li>
                <li><a href="azkar.html">الأذكار</a></li>
                <li><a href="1.html">مواقيت الصلاة</a></li>
                <li><a href="99.html">أسماء الله الحسنى</a></li>
                <li><a href="chatbot.html" class="active">الدردشة الإسلامية</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <div class="chat-container">
            <div id="chat-box">
                 <div class="message bot-message">
                    <strong>المساعد الذكي:</strong> السلام عليكم! كيف يمكنني مساعدتك اليوم؟
                </div>
            </div>
            <div id="input-container">
                <input type="text" id="user-input" placeholder="اكتب رسالتك هنا..." />
                <button id="send-btn" class="btn">إرسال</button>
            </div>
        </div>
    </main>

    <footer>
        <p>© 2024 Imuslim. جميع الحقوق محفوظة.</p>
    </footer>

    <script>
        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        const menuToggle = document.getElementById('menu-toggle');
        const navLinks = document.getElementById('nav-links');

        function appendMessage(message, type, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', type);
            messageDiv.innerHTML = `<strong>${sender}:</strong> ${message}`;
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function getBotResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase();

            if (lowerMessage.includes('السلام عليكم') || lowerMessage.includes('أهلا')) {
                return 'وعليكم السلام! أهلاً بك. كيف يمكنني خدمتك؟';
            } else if (lowerMessage.includes('قران') || lowerMessage.includes('حصص')) {
                return 'لدينا قسم كامل للقرآن الكريم يمكنك تصفحه. حاليًا لا تتوفر حصص مباشرة، ولكن نعمل على إضافتها قريبًا إن شاء الله.';
            } else if (lowerMessage.includes('شكرا')) {
                return 'على الرحب والسعة. في خدمتك دائمًا.';
            } else if (lowerMessage.includes('صاحب الموقع') || lowerMessage.includes('مبرمج')) {
                return 'هذا الموقع هو عمل تطوعي يهدف لخدمة المسلمين. يمكنك التواصل مع المطور "مصطفى هشام" عبر موقعه: https://mdpro-website.vercel.app/';
            } else if (lowerMessage.includes('حديث')) {
                return 'يمكنك تصفح قسم الأحاديث النبوية الشريفة من القائمة الرئيسية.';
            } else if (lowerMessage.includes('معنى')) {
                 return 'يعني كثير العطاء الذي لا يمنع أحداً من عطائه وهو من أسماء الله الحسنى.';
            } else {
                return 'عذرًا، لم أفهم سؤالك. هل يمكنك توضيحه أو طرح سؤال آخر في مجال الدين الإسلامي؟';
            }
        }

        function sendMessage() {
            const userMessage = userInput.value;
            if (userMessage.trim() === '') return;

            appendMessage(userMessage, 'user-message', 'أنت');
            userInput.value = '';

            // Simulate bot thinking time
            setTimeout(() => {
                const botResponse = getBotResponse(userMessage);
                appendMessage(botResponse, 'bot-message', 'المساعد الذكي');
            }, 500);
        }

        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                sendMessage();
            }
        });
        
        menuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });
    </script>
</body>
</html>
